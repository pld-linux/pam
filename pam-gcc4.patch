--- pam-pld-0.79.0/modules/pam_unix/pam_unix_passwd.c.orig	2005-04-12 22:41:24.915568576 +0000
+++ pam-pld-0.79.0/modules/pam_unix/pam_unix_passwd.c	2005-04-12 22:41:39.341375520 +0000
@@ -63,7 +63,7 @@
 #ifdef WITH_SELINUX
 #include <selinux/selinux.h>
 static security_context_t prev_context=NULL;
-#define SELINUX_ENABLED (selinux_enabled != -1 ? selinux_enabled : selinux_enabled=(is_selinux_enabled() > 0))
+#define SELINUX_ENABLED ((selinux_enabled != -1) ? selinux_enabled : (selinux_enabled=(is_selinux_enabled() > 0)))
 #else
 #define SELINUX_ENABLED 0
 #endif
--- pam-pld-0.79.0/modules/pam_unix/unix_chkpwd.c.orig	2005-04-12 22:28:14.735694176 +0000
+++ pam-pld-0.79.0/modules/pam_unix/unix_chkpwd.c	2005-04-12 22:45:31.323108936 +0000
@@ -36,7 +36,7 @@
 static int selinux_enabled=-1;
 #ifdef WITH_SELINUX
 #include <selinux/selinux.h>
-#define SELINUX_ENABLED (selinux_enabled!=-1 ? selinux_enabled : selinux_enabled=(is_selinux_enabled() > 0))
+#define SELINUX_ENABLED ((selinux_enabled!=-1) ? selinux_enabled : (selinux_enabled=(is_selinux_enabled() > 0)))
 static security_context_t prev_context=NULL;
 #else
 #define SELINUX_ENABLED 0
